---
import { getCollection } from "astro:content";
import Grid from "../../components/Grid.astro";
import PortfolioPreview from "../../components/PortfolioPreview.astro";
import BaseLayout from "../../layouts/BaseLayout.astro"

const projects = (await getCollection("blog"))
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 4);
---
<BaseLayout>
   <main class='wrapper stack gap-20 lg:gap-48'>
         <section class='section with-background with-cta'>
        <header class='section-header stack gap-2 lg:gap-4'>
          <h3>Selected Work</h3>
          <p>
            Take a look below at some of my featured work for clients from the
            past few years.
          </p>
        </header>

        <div class='gallery'>
          <Grid variant='offset'>
            {
              projects.map((project) => (
                <li>
                  <PortfolioPreview project={project} />
                </li>
              ))
            }
          </Grid>
        </div>


      </section>
    </main>
</BaseLayout>